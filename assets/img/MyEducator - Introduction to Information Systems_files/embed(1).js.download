"use strict";window.__vapp_loader__=window.__vapp_loader__||{};(function(){var APPLOG="[ðŸ¤–.aichat]";var legacyFlag=window.localStorage&&window.localStorage.getItem('VOSHI_FORCE_LEGACY')||'';var agent=window.navigator&&window.navigator.userAgent||'';var safariMatch=agent.match(/^((?!chrome|android).)*safari/i)&&agent.match(/version\/(\d+)/i);var isLegacy=!!(legacyFlag.includes("aichat")||agent.match(/edge\/|trident\/|msie/i)||safariMatch&&parseInt(safariMatch[1])<16);var injectScript=function injectScript(url){var ref={promise:null};ref.promise=new Promise(function(resolve,reject){try{var prevref=window.__vapp_loader__[url];if(prevref){resolve(prevref.promise);return;}window.__vapp_loader__[url]=ref;var script=document.createElement('script');if(!isLegacy){script.setAttribute('type','module');}script.onload=function(){resolve(script);};script.onerror=function(){reject(new Error(url));};document.body.appendChild(script);script.setAttribute('src',url);}catch(loaderr){reject(loaderr);}});return ref.promise;};var loadScripts=function loadScripts(urls){var proms=urls.map(function(url){console.log("".concat(APPLOG," loading ").concat(url));return injectScript("https://apps.play.voshi.com/static/aichat/s/".concat(url));});return Promise.all(proms).catch(function(err){console.warn("".concat(APPLOG," load error: ").concat(err));console.error(err);});};var importSystemScripts=function importSystemScripts(urls){var proms=urls.map(function(url){console.log("".concat(APPLOG," System importing ").concat(url));return System.import("https://apps.play.voshi.com/static/aichat/s/".concat(url));});return Promise.all(proms).catch(function(err){console.warn("".concat(APPLOG," import error: ").concat(err));console.error(err);});};var main=function main(){window.__vite_is_modern_browser=window.__vite_is_modern_browser||isLegacy;if(isLegacy){console.log("".concat(APPLOG," loading legacy resources"));loadScripts(["legacy/ms-crypto-polyfill.js","legacy/text-encoder-polyfill.js","assets/polyfills-legacy-f5824897.js"]).then(function(){importSystemScripts(["assets/index-legacy-08aecb78.js"]);});}else{console.log("".concat(APPLOG," loading modern resources"));loadScripts(["assets/index-0afa14f3.js"]);}};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",main);}else{main();}})();